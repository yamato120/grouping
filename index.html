<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>チーム分け</title>
</head>

<body>
    メンバー入力<br>
    <textarea rows="16" id="text" placeholder="1人ずつ改行して入力"></textarea>
    →
    <textarea rows="8" id="team1" placeholder="team1"></textarea><br>
    　
    <textarea rows="8" id="team2" placeholder="team2"></textarea><br>
    <input type="button" id="done" value="実行" onclick="grouping()">
    <input type="button" id="delete" value="クリア" onclick="deleteForm()">
</body>

</html>

<style>
    #text {
        float: left;
    }

    #team1 {
        margin: 0px;
        padding: 0px;
    }

    #team2 {
        margin: 0px;
        padding: 0px;
    }
</style>

<script>
    function grouping() {
        var text = document.getElementById("text").value.trimEnd();
        var team1 = document.getElementById("team1");
        var team2 = document.getElementById("team2");
        team1.value = "";
        team2.value = "";
        var items = text.split("\n");
        var len = items.length;
        var temp;
        if (len % 2 == 1) {
            alert("偶数人数入力してください。");
        }
        for (var i = 0; i < len; i++) {
            var rand = getRandom(0, len - 1);
            temp = items[i];
            items[i] = items[rand];
            items[rand] = temp;
        }
        for (i = 0; i < len; i++) {
            if (i < len / 2) {
                team1.value += items[i] + "\n";
            } else {
                team2.value += items[i] + "\n";
            }
        }
    }

    function deleteForm() {
        document.getElementById("text").value = "";
        document.getElementById("team1").value = "";
        document.getElementById("team2").value = "";
    }

    function getRandom(min, max) {
        var random = Math.floor(Math.random() * (max + 1 - min)) + min;
        return random;
    }
</script>
