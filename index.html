<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>チーム分け</title>
</head>

<body>
    メンバー入力<br>
    <textarea rows="16" id="text" placeholder="1人ずつ改行して入力(16人まで)"></textarea><br>
    <input type="button" id="done" value="実行" onclick="grouping()">
    <input type="button" id="delete" value="クリア" onclick="deleteForm()">
    <table class="design01">
        <tr>
            <th>team1</th>
            <th>team2</th>
        </tr>
        <tr>
            <td id="team1">　</td>
            <td id="team2">　</td>
        </tr>
    </table>
</body>

</html>

<style>
    .design01 {
        margin-top: 10px;
        width: auto;
        text-align: center;
        border-collapse: collapse;
        border-spacing: 0;
    }

    .design01 th {
        padding: 10px;
        background: #e9faf9;
        border: solid 1px #778ca3;
    }

    .design01 td {
        padding: 10px;
        border: solid 1px #778ca3;
    }
</style>

<script>
    function grouping() {
        var text = document.getElementById("text").value.trimEnd();
        var team1 = document.getElementById("team1");
        var team2 = document.getElementById("team2");
        team1.innerText = "";
        team2.innerText = "";
        var items = text.split("\n");
        var len = items.length;
        var temp;
        if (len % 2 == 1) {
            alert("偶数人数入力してください。");
        }
        for (var i = 0; i < len; i++) {
            var rand = getRandom(0, len - 1);
            temp = items[i];
            items[i] = items[rand];
            items[rand] = temp;
        }
        for (i = 0; i < len; i++) {
            if (i < len / 2) {
                team1.innerText += items[i] + "\n";
            } else {
                team2.innerText += items[i] + "\n";
            }
        }
    }

    function deleteForm() {
        document.getElementById("text").value = "";
        document.getElementById("team1").innerText = "";
        document.getElementById("team2").innerText = "";
    }

    function getRandom(min, max) {
        var random = Math.floor(Math.random() * (max + 1 - min)) + min;
        return random;
    }
</script>
